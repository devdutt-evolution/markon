---
import type { MDXInstance } from "astro";
import FixedHeight from "../../components/header/FixedHeight.astro";
import Layout from "../../layouts/Layout.astro";
import { ViewTransitions } from "astro:transitions";

export async function getStaticPaths(): Promise<any> {
  const posts = await Astro.glob("../../content/*.mdx");

  return posts.map((post) => ({
    params: {
      slug: post.getHeadings()[0].slug,
    },
    props: {
      post,
    },
  }));
}

type Props = {
  post: MDXInstance<Record<string, any>>;
};

const { Content, frontmatter, url } = Astro.props.post;
---

<!doctype html>
<html lang='en'>
  <head>
    <ViewTransitions />
    <meta charset='UTF-8' />
    <meta name='description' content='Astro description' />
    <meta name='viewport' content='width=device-width' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <title>{frontmatter.title || "Devdutt/Blog"}</title>
    <meta property='og:title' content={frontmatter.og_title} />
    <meta property='og:description' content={frontmatter.og_description} />
    <meta property='og:url' content={url} />
    <meta property='og:image' content={frontmatter.og_image} />
    <meta property='og:type' content={frontmatter.og_type} />
    <meta property='og:author' content={frontmatter.og_author} />
    <meta property='og:published_time' content={frontmatter.og_publishedOn} />
    <meta property='twitter:card' content='summary_large_image' />
    <meta
      property='
      article:published_time'
      content={frontmatter.og_publishedOn}
    />
    <style is:global>
      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      ::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 5px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #555;
      }
    </style>
  </head>
  <Layout>
    <FixedHeight color='bg-slate-800' />
    <FixedHeight color='bg-slate-800' />
    <FixedHeight color='bg-neutral-900' />

    <div class='bg-neutral-900'>
      <article
        class='prose md:prose-lg prose-invert mx-auto prose-a:text-blue-600 prose-h2:text-yellow-400 prose-li:prose-ul:marker:text-yellow-400 prose-li:prose-ol:marker:text-blue-600 prose-code:select-all'
      >
        <Content />
      </article>
    </div>
    <FixedHeight color='bg-neutral-900' />
    <FixedHeight color='bg-neutral-900' />
  </Layout>


</html>
