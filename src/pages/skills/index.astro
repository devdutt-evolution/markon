---
import { getEntry } from 'astro:content';
import FixedHeight from '../../components/FixedHeight.astro';
import Layout from '../../layouts/Layout.astro';
import Drawer from './_drawer.astro';

const { data } = await getEntry('skills', 'skills');
let len = 0;

const arr = Object.entries(data).map(([name, value]) => {
  len++;
  return {
    category: name,
    values: value,
  };
});
const first = arr.slice(0, len / 2);
const second = arr.slice(len / 2);
---

<Layout>
  <FixedHeight color='bg-slate-800' />
  <div
    class='grid max-w-3xl grid-cols-1 mx-auto md:grid-cols-2 gap-x-2 gap-y-2 px-2'
  >
    <div class='flex flex-col gap-6'>
      {
        first.map((val) => {
          // @ts-ignore
          return <Drawer categoryTitle={val.category} values={val.values} />;
        })
      }
    </div>
    <div class='flex flex-col gap-6'>
      {
        second.map((val) => {
          // @ts-ignore
          return <Drawer categoryTitle={val.category} values={val.values} />;
        })
      }
    </div>
  </div>
  <FixedHeight color='bg-slate-800' />
</Layout>
