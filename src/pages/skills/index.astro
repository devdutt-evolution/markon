---
import { getEntry } from 'astro:content';
import BackButton from '../../components/BackButton.astro';
import FixedHeight from '../../components/FixedHeight.astro';
import Layout from '../../layouts/Layout.astro';
import Drawer from './_drawer.astro';

const { data } = await getEntry('skills', 'skills');
let len = 0;

const arr = Object.entries(data).map(([name, value]) => {
  len++;
  return {
    category: name,
    values: value,
  };
});
const first = arr.slice(0, len / 2);
const second = arr.slice(len / 2);
---

<Layout>
  <FixedHeight color='bg-neutral-900' />
  <div class='bg-neutral-900'>
    <div class='max-w-3xl p-4 mx-auto space-y-4'>
      <div class='text-6xl font-extrabold text-white'>SkillS</div>
      <div class='md:grid-cols-2 grid grid-cols-1 gap-4 mx-auto'>
        <div class='flex flex-col gap-6'>
          {
            first.map((val) => {
              // @ts-ignore
              return (
                <Drawer categoryTitle={val.category} values={val.values} />
              );
            })
          }
        </div>
        <div class='flex flex-col gap-6'>
          {
            second.map((val) => {
              // @ts-ignore
              return (
                <Drawer categoryTitle={val.category} values={val.values} />
              );
            })
          }
        </div>
      </div>
    </div>
    <!-- <div class='flex items-center justify-start max-w-3xl px-3 py-4 mx-auto'>
      <BackButton />
    </div> -->
  </div>
  <FixedHeight color='bg-neutral-900' />
</Layout>
